#!/usr/bin/env python
import click

from inbox.models.session import session_scope
from inbox.models.backends.eas import EASAccount


@click.command()
@click.argument('account_id')
def get_eas_password(account_id):
    with session_scope(ignore_soft_deletes=False) as db_session:
        account = db_session.query(EASAccount).get(account_id)

        assert account.discriminator == 'easaccount'

        email = account.email_address
        password = account.password

    print 'Email: {}\nPassword: {}'.format(email, password)


if __name__ == '__main__':
    get_eas_password()
